<!DOCTYPE html>
<!-- Generated by MetaStatic: Wed, 21 Aug 2024 16:28:12 GMT -->
<!-- https://github.com/robtweed/metastatic -->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>MetaStatic Demo</title>
    <link rel="stylesheet" href="https://startbootstrap.github.io/startbootstrap-sb-admin/css/styles.css">
    <script async="async" src="https://use.fontawesome.com/releases/v6.4.2/js/all.js" crossorigin="anonymous"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      .navbar-nav-scroll {
        max-height: var(--bs-scroll-height, 100dvh);
        overflow-y: auto;
      }

      .bg-mgw {
        opacity: 0.9;
        background-color: #bdddf6;
      }

      .sidenav-light {
        background-color: #fff;
        color: #212832;
      }

      body {
        background-color: #f2f6fc;
        color: #69707a;
        padding-bottom: env(safe-area-inset-bottom);
      }

      pre code {
        font-size: 0.7rem;
      }

      .bg-light {
        background-color: rgb(242, 246, 252) !important;
        color: #69707a;
      }

      .shadow-right {
        box-shadow: .15rem 0 1.75rem 0 rgba(33, 40, 50, 0.15) !important;
      }

      .sb-nav-fixed #layoutSidenav #layoutSidenav_nav {
        width: 225px;
      }

      .sb-nav-fixed #layoutSidenav #layoutSidenav_content {
        padding-left: 225px;
      }

      #layoutSidenav #layoutSidenav_nav {
        flex-basis: 225px;
        flex-shrink: 0;
        transition: transform 0.15s ease-in-out;
        z-index: 1038;
        transform: translateX(-225px);
      }

      #layoutSidenav #layoutSidenav_content {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        min-width: 0;
        flex-grow: 1;
        min-height: calc(100vh - 56px);
        margin-left: -225px;
      }

      .carousel-control-prev {
        top: 100px;
        align-items: start;
        width: 5%;
      }

      .carousel-control-next {
        top: 100px;
        align-items: start;
        width: 5%;
      }

      .sb-sidenav .sb-sidenav-menu .nav .sb-sidenav-menu-heading {
        padding-top: 0.5rem;
        padding-bottom: 0rem;
        font-size: var(--bs-nav-link-font-size);
        text-transform: none;
      }

      .ms-search-icon {
        position: absolute;
        left: 65%;
        z-index: 2;
      }

      .ms-search-field {
        width: 300px;
        position: absolute;
        left: 40%;
        z-index: 2;
      }

      .ms-search-dropdown {
        position: absolute;
        left: -300px;
        top: 48px;
        overflow-y: scroll;
        max-height: 350px;
      }

      .ms-search-sub-dropdown {
        position: absolute;
        left: -500px;
        top: 0px;
        overflow-y: scroll;
        max-height: 350px;
      }

      .ms-small-text {
        font-size: 0.6rem;
        margin: 0px;
      }

      .ms-heading-text {
        font-size: 0.75rem;
        margin: 0px;
      }

      @media (max-width: 576px) {
        .ms-search-icon {
          position: absolute;
          left: 85%;
          z-index: 2;
        }

        .ms-search-field {
          width: 200px;
          position: absolute;
          left: 40%;
          z-index: 2;
        }

        .ms-search-dropdown {
          position: absolute;
          left: -200px;
          top: 40px;
          overflow-y: scroll;
          max-height: 350px;
        }

        .ms-search-sub-dropdown {
          position: absolute;
          left: -300px;
          top: 30px;
          overflow-y: scroll;
          max-height: 350px;
        }
      }

      @media (min-width: 577px) and (max-width: 992px) {
        .ms-search-icon {
          position: absolute;
          left: 50%;
          z-index: 2;
        }

        .ms-search-field {
          width: 200px;
          position: absolute;
          left: 24%;
          z-index: 2;
        }

        .ms-search-dropdown {
          position: absolute;
          left: -200px;
          top: 40px;
          overflow-y: scroll;
          max-height: 350px;
        }

        .ms-search-sub-dropdown {
          position: absolute;
          left: -200px;
          top: 0px;
          overflow-y: scroll;
          max-height: 350px;
        }
      }

      @media (min-width: 992px) {
        #layoutSidenav #layoutSidenav_nav {
          transform: translateX(0);
        }

        #layoutSidenav #layoutSidenav_content {
          margin-left: 0;
          transition: margin 0.15s ease-in-out;
        }

        .sb-sidenav-toggled #layoutSidenav #layoutSidenav_nav {
          transform: translateX(-225px);
        }

        .sb-sidenav-toggled #layoutSidenav #layoutSidenav_content {
          margin-left: -225px;
        }

        .sb-sidenav-toggled #layoutSidenav #layoutSidenav_content:before {
          display: none;
        }
      }
    </style>
  </head>

  <body class="sb-nav-fixed">
    <span>
      <nav class="sb-topnav navbar navbar-light navbar-expand shadow navbar-mgw bg-mgw">
        <span class="me-2 ms-lg-2 me-lg-0">
          <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" ms-el-id="4" id="sidebarToggle" href="#!">
            <i class="fas fa-bars"></i>
          </button>
        </span><span id="search-icon" class="ms-search-icon" ms-el-id="a6">
          <i class="fas fa-magnifying-glass"></i>
        </span>
        <div id="search-field" class="ms-search-field d-none input-group rounded">
          <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" ms-el-id="c6">
          <span class="input-group-text border-0" id="search-addon" ms-el-id="b6">
            <i class="fas fa-search"></i>
          </span>
          <div class="dropdown">
            <ul id="ms-search-dropdown-ul" class="dropdown-menu ms-search-dropdown" ms-el-id="d6"></ul>
          </div>
          <div class="dropstart">
            <ul id="ms-search-sub-dropdown-ul" class="dropdown-menu ms-search-sub-dropdown" ms-el-id="e6"></ul>
          </div>
        </div><span style="color: black; font-weight: bold; white-space: nowrap; position: absolute; left: 3rem;">MetaStatic Demo</span><img src="images/logo.png" style="  margin-left: auto; height: 55px; z-index: 0; opacity: 0.2; ">
      </nav>
    </span>
    <div id="layoutSidenav">
      <div id="layoutSidenav_nav">
        <nav class="sb-sidenav shadow-right accordion sb-sidenav-light navbar-nav-scroll" id="sidenavAccordion">
          <div class="sb-sidenav-menu">
            <div class="nav">
              <div class="sb-sidenav-menu-heading">Select a Menu Option</div><a class="nav-link sidebar-menu-item active " ms-id="about" ms-el-id="25" id="menu-item-25" href="#">
                <div class="sb-nav-link-icon ">
                  <i class="fa-solid fa-circle-info"></i>
                </div>
                <span>About</span>
              </a><a class="nav-link collapsed" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#nested-menu-64" aria-expanded="true" aria-controls="nested-menu-64">
                <div class="sb-nav-link-icon ">
                  <i class="fa-solid fa-gears"></i>
                </div>
                <span>Technical</span>
                <div class="sb-sidenav-collapse-arrow">
                  <i class="fas fa-angle-down"></i>
                </div>
              </a>
              <div class="collapse" id="nested-menu-64">
                <nav class="sb-sidenav-menu-nested nav">
                  <a class="nav-link sidebar-menu-item  " ms-id="installation" ms-el-id="47" id="menu-item-47" href="#">
                    <div class="sb-nav-link-icon ">
                      <i class="fa-solid fa-wrench"></i>
                    </div>
                    <span>Installation</span>
                  </a><a class="nav-link sidebar-menu-item  " ms-id="configuration" ms-el-id="61" id="menu-item-61" href="#">
                    <div class="sb-nav-link-icon ">
                      <i class="fa-solid fa-sliders"></i>
                    </div>
                    <span>Configuration</span>
                  </a>
                </nav>
              </div><a class="nav-link sidebar-menu-item  " ms-id="use-case-for-metastatic" ms-el-id="118" id="menu-item-118" href="#">
                <div class="sb-nav-link-icon ">
                  <i class="fa-solid fa-chalkboard-user"></i>
                </div>
                <span>Use Case for MetaStatic</span>
              </a>
            </div>
          </div>
        </nav>
      </div>
      <div id="layoutSidenav_content">
        <main>
          <div class="container-fluid px-4">
            <div class="content-page collapse multi-collapse show" id="content-page-25">
              <div style="opacity: 0;">_</div>
              <div class="card text-dark bg-light" style="width: 100%; margin: auto" ms-file="about-2">
                <h5 class="card-header">About MetaStatic</h5>
                <div class="card-body">
                  <div class="card-text">
                    <p><em>MetaStatic</em> is a JavaScript tool that allows you to build and maintain a static web site using:</p>
                    <ul>
                      <li>high-level tags that we call <em>Meta Tags</em> and that represent and encapsulate a particular set of user interface (UI) features and behaviours</li>
                      <li>optionally, a simple text file-based Content Management System, with your content written using Markdown syntax</li>
                    </ul>
                    <p><em>MetatStatic</em> can be used with either Node.js or Bun.js.</p>
                    <p>Using <em>MetaStatic</em>, a Web Site maintainer can quickly and easily define and maintain a complex static web site that has a modern responsive user interface, using a few simple Meta Tags and without the need for complex JavaScript frameworks.</p>
                    <p><em>MetaStatic</em> allows a Web Site to be described/defined completely declaratively, requiring no programming knowledge or expertise.</p>
                    <p>However, technical developers can create libraries of re-usable <em>MetaStatic</em> Meta Tags that encapsulate any amount of markup and JavaScript logic, to whatever degree of complexity is required. These can then be used by a Web Site maintainer as building-blocks that describe the Web Site.</p>
                    <p>The file containing the Meta Tag-based definition of a web site is then used as the input to the <em>MetaStatic</em> module which converts it to a corresponding HTML file that can be run in a browser.</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="content-page collapse multi-collapse " id="content-page-47">
              <div style="opacity: 0;">_</div>
              <span class="h1">Installing MetaStatic</span>
              <div style="opacity: 0;" class="">_</div>
              <nav>
                <div class="nav nav-tabs" role="tablist">
                  <button class="nav-link active" data-bs-toggle="tab" id="sbadmin-tab-31" data-bs-target="#sbadmin-tab-content-31" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Node.js</button><button class="nav-link " data-bs-toggle="tab" id="sbadmin-tab-42" data-bs-target="#sbadmin-tab-content-42" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Bun.js</button>
                </div>
              </nav>
              <div style="opacity: 0;">_</div>
              <div class="tab-content">
                <div class="tab-pane fade active show" id="sbadmin-tab-content-31" role="tabpanel" aria-labelledby="sbadmin-tab-31" ms-file="install-node">
                  <span>
                    <p><em>MetatStatic</em>'s Build Module is written in JavaScript and can be used with Node.js.</p>
                    <p>Install it as follows:</p>
                    <pre><code class="language-code">npm install metastatic
</code></pre>
                  </span>
                  <span>
                  </span>
                </div>
                <div class="tab-pane fade  " id="sbadmin-tab-content-42" role="tabpanel" aria-labelledby="sbadmin-tab-42">
                  <span></span>
                  <span>
                    <div class="card text-dark bg-light" style="width: 100%; margin: auto" ms-file="install-bun">
                      <h5 class="card-header">Bun.js</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p><em>MetaStatic</em>'s Build Module is written in JavaScript and can be used with Bun.js.</p>
                          <p>Install it as follows:</p>
                          <pre><code class="language-code">bun install metastatic
</code></pre>
                        </div>
                      </div>
                    </div>
                  </span>
                </div>
              </div>
            </div>
            <div class="content-page collapse multi-collapse " id="content-page-61">
              <div style="opacity: 0;">_</div>
              <span class="h1">Configuring MetaStatic</span>
              <div style="opacity: 0;" class="">_</div><span>
                <p>Configuration of MetaStatic's Builder module is performed when you instantiate its <em>MetaStatic</em> class. You pass its constructor an <em>options</em> object as an argument.</p>
                <p>The <em>options</em> object's properties are as follows:</p>
                <ul>
                  <li><em>tagLibraryPath</em>: the file path under which each of your Meta Tag Libraries are stored</li>
                  <li><em>inputPath</em>: the file path holding your <em>.meta</em> files which describe your Web Site's page(s)</li>
                  <li><em>outputPath</em>: the destination file path into which MetaStatic's Builder will output the generated HTML file</li>
                  <li><em>contentPath</em>: an object containing one or more key/value pairs, with each key/value pair describing the mapping of a <em>namespace</em> to a corresponding physical file path. These are used by MetaStatic's Builder to locate Markdown content files that are referenced in Meta Tag attributes.</li>
                </ul>
                <p>For example, the configuration used in your cloned repository is:</p>
                <pre><code class="language-javascript">const metaStatic = new MetaStatic({
  tagLibraryPath: './metaTagLibraries/',
  inputPath: './sites/',
  outputPath: './sites/',
  contentPath: {
    tutorial: './sites/tutorial/content'
  }
});
</code></pre>
              </span><span>
              </span>
            </div>
            <div class="content-page collapse multi-collapse " id="content-page-118">
              <div style="opacity: 0;">_</div>
              <div class="carousel carousel-dark slide" id="carousel-114">
                <div class="carousel-inner">
                  <div class="carousel-item active" ms-file="usecase-1" ms-index="0">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-1">
                      <h5 class="card-header">JavaScript Frameworks</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>Many people these days are using complex and cumbersome JavaScript frameworks such as React, Vue or Angular, to create what are actually just static Web Sites where the content is largely fixed and only occasionally updated.</p>
                          <p>This isn't perhaps so much of an issue if the maintainer of such a Web Site is technically well-versed in such a framework, but, more often than not, the maintainer is someone else in the organisation who has little or no detailed technical or programming expertise, but is more focused on ensuring that the content required for the site is accurate and kept up to date. Such a Web Site maintainer will find it difficult to learn and understand the complexities involved when changes need to be made, and, nine times out of ten will need to go back to the original developer (if they are still available!) in order to make the change.</p>
                          <p>In any case, the use of such frameworks to create such Web Sites is often an unnecessary "sledgehammer to crack a nut".</p>
                          <p>Furthermore, such a site will typically be slow to load and start for users, because it will require potentially huge files of JavaScript to be loaded into the browser before anything can begin to be rendered.</p>
                          <p>And just to add insult to injury, Web Sites developed using JavaScript frameworks that dynamically build the markup by manipulating the page DOM can be difficult for web crawlers to properly and fully process and index the content for search engines to use, resulting in sub-optimal Search Engine Optimisation (SEO).</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item " ms-file="usecase-2" ms-index="1">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-2">
                      <h5 class="card-header">Content Management Systems</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>For Web Sites that require maintenance of a lot of content that can change over time, the usual solution is to use a Content Management System (CMS). This requires specific technical skills and a potentially steep learning curve, and often the cost of a license for the CMS and/or associated database. The latter database may also need technical maintenance (eg backup, restore etc), again requiring specific technical expertise.</p>
                          <p>As a result, many Web Site maintainers turn to commercial packaged solutions such as Wordpress, Wix, Squarespace etc, most of which incur licensing or subscription costs and/or remote/cloud hosting, and potentially constraining the look and feel of the Web Site. Migrating between such services can also be problematic, so vendor lock-in is a real risk of such a solution.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item " ms-file="usecase-3" ms-index="2">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-3">
                      <h5 class="card-header">CSS/JavaScript Templates</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>Meanwhile, there are a great many pre-built templates that can be used to create complex, modern, responsive user interfaces for static web sites, with the entire content and functionality delivered as a single HTML page. See for example:</p>
                          <ul>
                            <li>the <a href="https://www.w3schools.com/css/css_rwd_templates.asp">W3 Schools W3.CSS Templates</a></li>
                            <li>the <a href="https://startbootstrap.com/theme/sb-admin-2">SB Admin Dashboard Template</a></li>
                          </ul>
                          <p>Templates such as these don't require anything other than their own pre-defined CSS stylesheets and some behaviour-specific JavaScript files. They don't require React, Vue, Angular or any other build and runtime framework. As a result they are incredibly fast to load and run, and, being static HTML files, can be crawled and indexed completely for use by all search engines.</p>
                          <p>Whilst impressive in terms of their look and feel and functionality, tailoring such templates for a specific use case is, however, time-consuming, error-prone and fiddly, and requires a good understanding of HTML and JavaScript. For a full web site, the page would be huge, and making content changes would require scanning or searching the HTML page and editing in situ. More complex modifications, such as adding or changing new menu options, tabbed panels or content sections would probably be beyond the skills of a basic Web Site maintainer and would be a cumbersome task.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item " ms-file="usecase-4" ms-index="3">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-4">
                      <h5 class="card-header">Breaking Down Templates into Building Blocks</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>The thinking behind <em>MetaStatic</em> is: what if it was possible for a technically skilled developer to break down such templates into a hierarchy of high-level building blocks - Meta Tags - that represent the individual elements or components (eg the backdrop, the menus, tab controls, carousels etc) from which that template is constructed? Armed with a library of such Meta Tags, a relatively unskilled Web Site maintainer could then define their own spefically-customised version that conforms to the template, but containing their own content and using a much simpler and intuitive shorthand description summarising the bulding blocks and content needed for their specific site.</p>
                          <p>The idea would be to process such a high-level Meta Tag description and generate a user-specific version of the template HTML that could be loaded into the browser. If any changes were made to the Meta Tag description, simply re-running the build process would create an updated version of the HTML file needed for the Web Server.</p>
                          <p>The technical expertise required to build a Meta Tag library for a particular template would be a one-off expert task. However, the resulting Tag Library could then be used repeatedly and easily by any number of Web Site maintainers who would not require particularly detailed technical skills.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item " ms-file="usecase-5" ms-index="4">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-5">
                      <h5 class="card-header">Content Management</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>Furthermore, if the text content of the Web Site could be held separately, maintained in simple text files in a directory, using the now widely used and easily understood Markdown syntax (using any convenient editor from <em>nano</em> upwards!), then this content could be pulled in at build time for inclusion in the final template file. All this would require is a simple file naming convention and the ability to reference the corresponding file name in a Meta Tag that made use of that content.</p>
                          <p>No database would be needed, and no license or subscription fees needed. All that would be needed would be a basic understanding of a server's directory structure and the ability to use a text editor and devise a simple file nomeclature convention.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item " ms-file="usecase-6" ms-index="5">
                    <div class="card text-dark bg-light" style="width: 85%; margin: auto" ms-file="usecase-6">
                      <h5 class="card-header">Ergo MetaStatic</h5>
                      <div class="card-body">
                        <div class="card-text">
                          <p>So these are the underlying ideas and concepts behind <em>MetaStatic</em>: a new and deceptively simple way to create and maintain static Web Sites of any size and complexity, without the need for any complex JavaScript frameworks, CMS, database or build chain.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carousel-114" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carousel-114" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
          <div class="container-fluid px-4">
            <div class="d-flex align-items-center justify-content-between small">
              <div class="inline" style="font-size: 8pt;"> Copyright © 2024 MGateway Ltd </div>
              <div class="inline" style="font-size: 8pt;">Registered in England</div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script>
      (function() {
        function init() {
          addToggleHandler();
          addSearchHandlers('6');
          addMenuItemHandler('25');
          addMenuItemHandler('47');
          addMenuItemHandler('61');
          addMenuItemHandler('118');
          loadByHash();
        }

        function addToggleHandler() {
          addHandler('4', 'click', toggle);
        }

        function toggle(e) {
          e.preventDefault();
          document.body.classList.toggle('sb-sidenav-toggled');
        }

        function addSearchHandlers(id) {
          addHandler('a' + id, 'click', showSearch);
          addHandler('b' + id, 'click', hideSearch);
          addHandler('c' + id, 'keyup', displayMatches);
          addHandler('d' + id, 'mouseover', detect);
          addHandler('e' + id, 'mouseover', activate);
        }

        function showSearch() {
          document.getElementById('search-icon').classList.add('d-none');
          document.getElementById('search-field').classList.remove('d-none');
        }

        function hideSearch() {
          document.getElementById('search-icon').classList.remove('d-none');
          document.getElementById('search-field').classList.add('d-none');
          let subUl = document.getElementById('ms-search-sub-dropdown-ul');
          subUl.classList.remove('show');
        }

        function sortArr(arr) {
          function compare(a, b) {
            if (a < b) {
              return -1;
            }
            if (a > b) {
              return 1;
            }
            return 0;
          }
          arr.sort(compare);
        }

        function displayMatches(e) {
          let prefix = e.target.value.toLowerCase();
          let ul = document.getElementById('ms-search-dropdown-ul');
          let subUl = document.getElementById('ms-search-sub-dropdown-ul');
          subUl.classList.remove('show', 'ms-active');
          if (prefix === '') {
            ul.classList.remove('show');
          } else {
            removeHandlersFromChildren(ul);
            ul.textContent = '';
            let matches = [];
            for (let word in wordIndex) {
              if (word.startsWith(prefix)) {
                matches.push(word);
              }
            }
            if (matches.length === 0) {
              ul.classList.remove('show');
            } else {
              ul.classList.add('show');
              sortArr(matches);
              let elId = 0;
              for (let word of matches) {
                elId++;
                if (word.startsWith(prefix)) {
                  let li = document.createElement('li');
                  li.classList.add('dropstart');
                  let a = document.createElement('a');
                  a.classList.add('dropdown-item');
                  a.setAttribute('href', '#');
                  a.textContent = word;
                  let fn = function(event) {
                    showArticleMatches(event, word);
                  };
                  let id = 'aword' + elId;
                  a.setAttribute('ms-el-id', id);
                  addElementHandler(a, 'click', fn);
                  let ul2 = document.createElement('ul');
                  ul2.classList.add('dropdown-menu');
                  a.appendChild(ul2);
                  li.appendChild(a);
                  ul.appendChild(li);
                }
              }
            }
          }
        }

        function showArticleMatches(e, word) {
          let a = e.target;
          let offset = getOffset(a);
          let subUl = document.getElementById('ms-search-sub-dropdown-ul');
          subUl.style.top = offset.top + 40 + 'px';
          removeHandlersFromChildren(subUl);
          subUl.textContent = '';
          let ul = e.target.querySelector('ul');
          subUl.classList.add('show');
          subUl.classList.remove('ms-active');
          let files = wordIndex[word];
          let elId = 0;
          for (let file in files) {
            let data = getContentValues(file);
            let li = document.createElement('li');
            let a = document.createElement('a');
            a.classList.add('dropdown-item');
            a.setAttribute('href', '#');
            let id = 'article' + elId;
            a.setAttribute('ms-el-id', id);
            let fn = function() {
              selectContent(file, data.elType, data.itemEl);
            }
            addElementHandler(a, 'click', fn);
            let p1 = document.createElement('p');
            p1.textContent = data.title;
            p1.classList.add('ms-heading-text');
            let p2 = document.createElement('p');
            p2.classList.add('ms-small-text');
            p2.textContent = data.heading;
            let hr = document.createElement('hr');
            hr.classList.add('ms-small-text');
            a.appendChild(p1);
            a.appendChild(p2);
            a.appendChild(hr);
            li.appendChild(a);
            subUl.appendChild(li);
          }
        }

        function getOffset(el) {
          const rect = el.getBoundingClientRect();
          return {
            left: rect.left + window.scrollX,
            top: rect.top + window.scrollY
          };
        }

        function selectContent(file, elType, itemEl) {
          hideSearch();
          displayContent(file, elType, itemEl);
        }

        function detect() {
          let subUl = document.getElementById('ms-search-sub-dropdown-ul');
          if (subUl.classList.contains('ms-active')) {
            subUl.classList.remove('show');
            subUl.classList.remove('ms-active');
          }
        }

        function activate(e) {
          if (!e.target.classList.contains('ms-active')) {
            e.target.classList.add('ms-active');
          }
        }

        function addMenuItemHandler(id) {
          let fn = function(event) {
            switchPage(event, id);
          };
          addHandler(id, 'click', fn);
        }

        function shouldSidebarHide() {
          let w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
          if (w < 992) {
            return true;
          }
          return false;
        }

        function hideSideNav() {
          document.body.classList.remove('sb-sidenav-toggled');
        }

        function showSideNav() {
          document.body.classList.add('sb-sidenav-toggled');
        }

        function switchPage(e, id) {
          let divTags = document.getElementsByClassName('content-page');
          for (let divTag of divTags) {
            divTag.classList.remove('show');
          }
          document.getElementById('content-page-' + id).classList.add('show');
          let aTags = document.getElementsByClassName('sidebar-menu-item');
          for (let aTag of aTags) {
            aTag.classList.remove('active');
          }
          let aTag = e.target;
          if (aTag.localName !== 'a') {
            aTag = aTag.parentNode;
            if (aTag.localName !== 'a') aTag = aTag.parentNode;
          }
          aTag.classList.add('active');
          if (shouldSidebarHide()) {
            hideSideNav();
          }
        }

        function getWordIndex() {
          return {};
        }
        let ms_handlers = {};
        let wordIndex;

        function addHandler(id, type, fn) {
          if (!ms_handlers[id]) {
            ms_handlers[id] = [];
          }
          ms_handlers[id].push({
            fn: fn,
            type: type
          });
          let ptrn = '[ms-el-id="' + id + '"]';
          document.querySelector(ptrn).addEventListener(type, fn);
        }

        function addElementHandler(element, type, fn) {
          let id = element.getAttribute('ms-el-id');
          if (id && id !== '') {
            if (!ms_handlers[id]) {
              ms_handlers[id] = [];
            }
            ms_handlers[id].push({
              fn: fn,
              type: type
            });
            element.addEventListener(type, fn);
          }
        }

        function removeHandler(id, type) {
          if (ms_handlers[id]) {
            for (let ix = 0; ix < ms_handlers[id].length; ix++) {
              let h = ms_handlers[id][ix];
              if (h.type === type) {
                let ptrn = '[ms-el-id="' + id + '"]';
                document.querySelector(ptrn).removeEventListener(type, h.fn);
                ms_handlers[id].splice(ix, 1);
              }
            }
          }
        }

        function removeHandlers(element) {
          let id = element.getAttribute('ms-el-id');
          if (id && id !== '' && ms_handlers[id]) {
            for (let h of ms_handlers[id]) {
              element.removeEventListener(h.type, h.fn);
            }
            delete ms_handlers[id];
          }
        }

        function removeHandlersFromChildren(element) {
          let els = element.querySelectorAll('[ms-el-id]');
          for (let el of els) {
            removeHandlers(el);
          }
        }

        function stringToId(string) {
          if (string.startsWith('#')) string = string.slice(1);
          string = string.replaceAll("'", '');
          string = string.replace(/\W/g, '-').toLowerCase();
          return string.replaceAll('--', '-');
        }

        function displayContent(filename, elType, itemEl) {
          if (itemEl) {
            let contentPageEl = itemEl.closest('.content-page');
            if (contentPageEl) {
              let id = contentPageEl.id.split('content-page-')[1];
              if (id) {
                let aTag = document.getElementById('menu-item-' + id);
                if (aTag) aTag.click();
                if (elType === 'carousel') {
                  let itemNo = itemEl.getAttribute('ms-index');
                  if (itemNo >= 0) {
                    let carouselEl = contentPageEl.querySelector('div.carousel');
                    if (carouselEl) {
                      const carousel = new bootstrap.Carousel(carouselEl, {})
                      carousel.to(itemNo);
                    }
                  }
                }
                if (elType === 'card') {
                  let tabEl = itemEl.closest('.tab-pane');
                  if (tabEl) {
                    let id = tabEl.id.split('sbadmin-tab-content-')[1];
                    if (id) {
                      let btn = document.querySelector('button#sbadmin-tab-' + id);
                      if (btn) btn.click();
                    }
                  }
                }
                if (elType === 'tab') {
                  let tabId = itemEl.id.split('sbadmin-tab-content-')[1];
                  if (tabId) {
                    let btn = document.querySelector('button#sbadmin-tab-' + tabId);
                    if (btn) btn.click();
                  }
                }
              }
            }
          }
        }

        function getContentValues(filename) {
          let title;
          let heading;
          let elType;
          let ptrn = 'ms-file="' + filename + '"';
          let itemEl = document.querySelector('[' + ptrn + ']');
          if (itemEl) {
            if (itemEl.classList.contains('card')) elType = 'card';
            if (itemEl.classList.contains('carousel-item')) elType = 'carousel';
            if (itemEl.classList.contains('tab-pane')) elType = 'tab';
            let contentPageEl = itemEl.closest('.content-page');
            if (contentPageEl) {
              let id = contentPageEl.id.split('content-page-')[1];
              let aTag = document.getElementById('menu-item-' + id);
              title = aTag.querySelector('span').textContent;
              if (elType === 'carousel' || elType === 'card') {
                heading = itemEl.querySelector('h5').textContent;
              }
              if (elType === 'tab') {
                id = itemEl.id.split('sbadmin-tab-content-')[1];
                let btn = document.querySelector('button#sbadmin-tab-' + id);
                heading = btn.textContent;
              }
            }
          }
          return {
            title: title,
            heading: heading,
            elType: elType,
            itemEl: itemEl
          }
        }

        function loadByHash() {
          wordIndex = getWordIndex();
          let hash = window.location.hash;
          let carouselItemNo;
          if (hash.includes(':')) {
            let pcs = hash.split(':');
            carouselItemNo = pcs.pop();
            hash = pcs.join(':');
          }
          hash = stringToId(hash);
          if (hash && hash !== '') {
            let ptrn = "a[ms-id='" + hash + "']";
            let el = document.querySelector(ptrn);
            if (el) {
              let id = el.id.split('menu-item-')[1];
              let divTags = document.getElementsByClassName('content-page');
              for (let divTag of divTags) {
                divTag.classList.remove('show');
              }
              let cpEl = document.getElementById('content-page-' + id);
              cpEl.classList.add('show');
              if (carouselItemNo && +carouselItemNo > 0) {
                let carouselEl = cpEl.querySelector('div.carousel');
                if (carouselEl) {
                  const carousel = bootstrap.Carousel.getInstance(carouselEl);
                  carousel.to(carouselItemNo);
                }
              }
            }
          }
        }
        document.addEventListener('DOMContentLoaded', function() {
          init()
        })
      })();
    </script>
  </body>

</html>